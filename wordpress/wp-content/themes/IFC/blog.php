<?php get_header(); ?>

    <!-- Page Content -->
    <div class="container" z-index:2000 style="margin-top:50px;">
        
        <div class="row">
            <div class="col-lg-12" style="text-align:center;">
                <h1>IFC Blog</h1>
            </div>
        </div>

        <hr>


        <div class="row">
            <div class="col-lg-12">
                <div id="blog">

                </div>
            </div>
        </div>

        <div class="modal fade post0Modal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true"><!--This class matches the button target-->
            <div class="modal-dialog modal-lg"><!--This will also affect your modal size, look into it-->
                <div class="modal-content">
                    <div id="carousel-controls-post0" class="carousel slide" data-ride="carousel"><!--This calls the controls for the carousel, note the id-->
                        <!-- Wrapper for slides -->
                        <div class="carousel-inner">
                            <div class="item active">
                                <div class="col-lg-12">
                                    <div class="col-lg-2"></div>
                                    <div class="col-lg-8 post0Contents" style="height:auto!important;">

                                    </div>
                                </div>
                                <!-- <img class="img-responsive" src="./img/Houses/TKE.jpg" alt="...">
                                <div class="carousel-caption">
                                </div> -->
                            </div>
                            <!-- <div class="item">
                                <img class="img-responsive" src="./img/Houses/TKEHouse.jpg" alt="...">
                                <div class="carousel-caption">
                                </div>
                            </div> -->
                        </div>
                        <!-- Controls -->
                        <a class="left carousel-control" href="#carousel-controls-post0" role="button" data-slide="prev" data-dismiss="modal" data-toggle="modal" data-target=".post9Modal" style="background-image: none!important;">
                            <span class="glyphicon glyphicon-chevron-left" style="color:black!important;"></span>
                        </a>
                        <a class="right carousel-control" href="#carousel-controls-post0" role="button" data-slide="next" data-dismiss="modal" data-toggle="modal" data-target=".post1Modal" style="background-image: none!important;">
                            <span class="glyphicon glyphicon-chevron-right" style="color:black!important;"></span>
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade post1Modal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true"><!--This class matches the button target-->
            <div class="modal-dialog modal-lg"><!--This will also affect your modal size, look into it-->
                <div class="modal-content">
                    <div id="carousel-controls-post1" class="carousel slide" data-ride="carousel"><!--This calls the controls for the carousel, note the id-->
                        <!-- Wrapper for slides -->
                        <div class="carousel-inner">
                            <div class="item active">
                                <div class="col-lg-12">
                                    <div class="col-lg-2"></div>
                                    <div class="col-lg-8 post1Contents" style="height:auto!important;">

                                    </div>
                                </div>
                                <!-- <img class="img-responsive" src="./img/Houses/TKE.jpg" alt="...">
                                <div class="carousel-caption">
                                </div> -->
                            </div>
                            <!-- <div class="item">
                                <img class="img-responsive" src="./img/Houses/TKEHouse.jpg" alt="...">
                                <div class="carousel-caption">
                                </div>
                            </div> -->
                        </div>
                        <!-- Controls -->
                        <a class="left carousel-control" href="#carousel-controls-post1" role="button" data-slide="prev" data-dismiss="modal" data-toggle="modal" data-target=".post0Modal" style="background-image: none!important;">
                            <span class="glyphicon glyphicon-chevron-left" style="color:black!important;"></span>
                        </a>
                        <a class="right carousel-control" href="#carousel-controls-post1" role="button" data-slide="next" data-dismiss="modal" data-toggle="modal" data-target=".post2Modal" style="background-image: none!important;">
                            <span class="glyphicon glyphicon-chevron-right" style="color:black!important;"></span>
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade post2Modal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true"><!--This class matches the button target-->
            <div class="modal-dialog modal-lg"><!--This will also affect your modal size, look into it-->
                <div class="modal-content">
                    <div id="carousel-controls-post2" class="carousel slide" data-ride="carousel"><!--This calls the controls for the carousel, note the id-->
                        <!-- Wrapper for slides -->
                        <div class="carousel-inner">
                            <div class="item active">
                                <div class="col-lg-12">
                                    <div class="col-lg-2"></div>
                                    <div class="col-lg-8 post2Contents" style="height:auto!important;">

                                    </div>
                                </div>
                                <!-- <img class="img-responsive" src="./img/Houses/TKE.jpg" alt="...">
                                <div class="carousel-caption">
                                </div> -->
                            </div>
                            <!-- <div class="item">
                                <img class="img-responsive" src="./img/Houses/TKEHouse.jpg" alt="...">
                                <div class="carousel-caption">
                                </div>
                            </div> -->
                        </div>
                        <!-- Controls -->
                        <a class="left carousel-control" href="#carousel-controls-post2" role="button" data-slide="prev" data-dismiss="modal" data-toggle="modal" data-target=".post1Modal" style="background-image: none!important;">
                            <span class="glyphicon glyphicon-chevron-left" style="color:black!important;"></span>
                        </a>
                        <a class="right carousel-control" href="#carousel-controls-post2" role="button" data-slide="next" data-dismiss="modal" data-toggle="modal" data-target=".post3Modal" style="background-image: none!important;">
                            <span class="glyphicon glyphicon-chevron-right" style="color:black!important;"></span>
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade post3Modal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true"><!--This class matches the button target-->
            <div class="modal-dialog modal-lg"><!--This will also affect your modal size, look into it-->
                <div class="modal-content">
                    <div id="carousel-controls-post3" class="carousel slide" data-ride="carousel"><!--This calls the controls for the carousel, note the id-->
                        <!-- Wrapper for slides -->
                        <div class="carousel-inner">
                            <div class="item active">
                                <div class="col-lg-12">
                                    <div class="col-lg-2"></div>
                                    <div class="col-lg-8 post3Contents" style="height:auto!important;">

                                    </div>
                                </div>
                                <!-- <img class="img-responsive" src="./img/Houses/TKE.jpg" alt="...">
                                <div class="carousel-caption">
                                </div> -->
                            </div>
                            <!-- <div class="item">
                                <img class="img-responsive" src="./img/Houses/TKEHouse.jpg" alt="...">
                                <div class="carousel-caption">
                                </div>
                            </div> -->
                        </div>
                        <!-- Controls -->
                        <a class="left carousel-control" href="#carousel-controls-post3" role="button" data-slide="prev" data-dismiss="modal" data-toggle="modal" data-target=".post2Modal" style="background-image: none!important;">
                            <span class="glyphicon glyphicon-chevron-left" style="color:black!important;"></span>
                        </a>
                        <a class="right carousel-control" href="#carousel-controls-post3" role="button" data-slide="next" data-dismiss="modal" data-toggle="modal" data-target=".post4Modal" style="background-image: none!important;">
                            <span class="glyphicon glyphicon-chevron-right" style="color:black!important;"></span>
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade post4Modal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true"><!--This class matches the button target-->
            <div class="modal-dialog modal-lg"><!--This will also affect your modal size, look into it-->
                <div class="modal-content">
                    <div id="carousel-controls-post4" class="carousel slide" data-ride="carousel"><!--This calls the controls for the carousel, note the id-->
                        <!-- Wrapper for slides -->
                        <div class="carousel-inner">
                            <div class="item active">
                                <div class="col-lg-12">
                                    <div class="col-lg-2"></div>
                                    <div class="col-lg-8 post4Contents" style="height:auto!important;">

                                    </div>
                                </div>
                                <!-- <img class="img-responsive" src="./img/Houses/TKE.jpg" alt="...">
                                <div class="carousel-caption">
                                </div> -->
                            </div>
                            <!-- <div class="item">
                                <img class="img-responsive" src="./img/Houses/TKEHouse.jpg" alt="...">
                                <div class="carousel-caption">
                                </div>
                            </div> -->
                        </div>
                        <!-- Controls -->
                        <a class="left carousel-control" href="#carousel-controls-post4" role="button" data-slide="prev" data-dismiss="modal" data-toggle="modal" data-target=".post3Modal" style="background-image: none!important;">
                            <span class="glyphicon glyphicon-chevron-left" style="color:black!important;"></span>
                        </a>
                        <a class="right carousel-control" href="#carousel-controls-post4" role="button" data-slide="next" data-dismiss="modal" data-toggle="modal" data-target=".post5Modal" style="background-image: none!important;">
                            <span class="glyphicon glyphicon-chevron-right" style="color:black!important;"></span>
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade post5Modal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true"><!--This class matches the button target-->
            <div class="modal-dialog modal-lg"><!--This will also affect your modal size, look into it-->
                <div class="modal-content">
                    <div id="carousel-controls-post5" class="carousel slide" data-ride="carousel"><!--This calls the controls for the carousel, note the id-->
                        <!-- Wrapper for slides -->
                        <div class="carousel-inner">
                            <div class="item active">
                                <div class="col-lg-12">
                                    <div class="col-lg-2"></div>
                                    <div class="col-lg-8 post5Contents" style="height:auto!important;">

                                    </div>
                                </div>
                                <!-- <img class="img-responsive" src="./img/Houses/TKE.jpg" alt="...">
                                <div class="carousel-caption">
                                </div> -->
                            </div>
                            <!-- <div class="item">
                                <img class="img-responsive" src="./img/Houses/TKEHouse.jpg" alt="...">
                                <div class="carousel-caption">
                                </div>
                            </div> -->
                        </div>
                        <!-- Controls -->
                        <a class="left carousel-control" href="#carousel-controls-post5" role="button" data-slide="prev" data-dismiss="modal" data-toggle="modal" data-target=".post4Modal" style="background-image: none!important;">
                            <span class="glyphicon glyphicon-chevron-left" style="color:black!important;"></span>
                        </a>
                        <a class="right carousel-control" href="#carousel-controls-post5" role="button" data-slide="next" data-dismiss="modal" data-toggle="modal" data-target=".post6Modal" style="background-image: none!important;">
                            <span class="glyphicon glyphicon-chevron-right" style="color:black!important;"></span>
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade post6Modal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true"><!--This class matches the button target-->
            <div class="modal-dialog modal-lg"><!--This will also affect your modal size, look into it-->
                <div class="modal-content">
                    <div id="carousel-controls-post6" class="carousel slide" data-ride="carousel"><!--This calls the controls for the carousel, note the id-->
                        <!-- Wrapper for slides -->
                        <div class="carousel-inner">
                            <div class="item active">
                                <div class="col-lg-12">
                                    <div class="col-lg-2"></div>
                                    <div class="col-lg-8 post6Contents" style="height:auto!important;">

                                    </div>
                                </div>
                                <!-- <img class="img-responsive" src="./img/Houses/TKE.jpg" alt="...">
                                <div class="carousel-caption">
                                </div> -->
                            </div>
                            <!-- <div class="item">
                                <img class="img-responsive" src="./img/Houses/TKEHouse.jpg" alt="...">
                                <div class="carousel-caption">
                                </div>
                            </div> -->
                        </div>
                        <!-- Controls -->
                        <a class="left carousel-control" href="#carousel-controls-post6" role="button" data-slide="prev" data-dismiss="modal" data-toggle="modal" data-target=".post5Modal" style="background-image: none!important;">
                            <span class="glyphicon glyphicon-chevron-left" style="color:black!important;"></span>
                        </a>
                        <a class="right carousel-control" href="#carousel-controls-post6" role="button" data-slide="next" data-dismiss="modal" data-toggle="modal" data-target=".post7Modal" style="background-image: none!important;">
                            <span class="glyphicon glyphicon-chevron-right" style="color:black!important;"></span>
                        </a>
                    </div>
                </div>
            </div>.
        </div>

        <div class="modal fade post7Modal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true"><!--This class matches the button target-->
            <div class="modal-dialog modal-lg"><!--This will also affect your modal size, look into it-->
                <div class="modal-content">
                    <div id="carousel-controls-post7" class="carousel slide" data-ride="carousel"><!--This calls the controls for the carousel, note the id-->
                        <!-- Wrapper for slides -->
                        <div class="carousel-inner">
                            <div class="item active">
                                <div class="col-lg-12">
                                    <div class="col-lg-2"></div>
                                    <div class="col-lg-8 post7Contents" style="height:auto!important;">

                                    </div>
                                </div>
                                <!-- <img class="img-responsive" src="./img/Houses/TKE.jpg" alt="...">
                                <div class="carousel-caption">
                                </div> -->
                            </div>
                            <!-- <div class="item">
                                <img class="img-responsive" src="./img/Houses/TKEHouse.jpg" alt="...">
                                <div class="carousel-caption">
                                </div>
                            </div> -->
                        </div>
                        <!-- Controls -->
                        <a class="left carousel-control" href="#carousel-controls-post7" role="button" data-slide="prev" data-dismiss="modal" data-toggle="modal" data-target=".post6Modal" style="background-image: none!important;">
                            <span class="glyphicon glyphicon-chevron-left" style="color:black!important;"></span>
                        </a>
                        <a class="right carousel-control" href="#carousel-controls-post7" role="button" data-slide="next" data-dismiss="modal" data-toggle="modal" data-target=".post8Modal" style="background-image: none!important;">
                            <span class="glyphicon glyphicon-chevron-right" style="color:black!important;"></span>
                        </a>
                    </div>
                </div>
            </div>.
        </div>

        <div class="modal fade post8Modal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true"><!--This class matches the button target-->
            <div class="modal-dialog modal-lg"><!--This will also affect your modal size, look into it-->
                <div class="modal-content">
                    <div id="carousel-controls-post8" class="carousel slide" data-ride="carousel"><!--This calls the controls for the carousel, note the id-->
                        <!-- Wrapper for slides -->
                        <div class="carousel-inner">
                            <div class="item active">
                                <div class="col-lg-12">
                                    <div class="col-lg-2"></div>
                                    <div class="col-lg-8 post8Contents" style="height:auto!important;">

                                    </div>
                                </div>
                                <!-- <img class="img-responsive" src="./img/Houses/TKE.jpg" alt="...">
                                <div class="carousel-caption">
                                </div> -->
                            </div>
                            <!-- <div class="item">
                                <img class="img-responsive" src="./img/Houses/TKEHouse.jpg" alt="...">
                                <div class="carousel-caption">
                                </div>
                            </div> -->
                        </div>
                        <!-- Controls -->
                        <a class="left carousel-control" href="#carousel-controls-post8" role="button" data-slide="prev" data-dismiss="modal" data-toggle="modal" data-target=".post7Modal" style="background-image: none!important;">
                            <span class="glyphicon glyphicon-chevron-left" style="color:black!important;"></span>
                        </a>
                        <a class="right carousel-control" href="#carousel-controls-post8" role="button" data-slide="next" data-dismiss="modal" data-toggle="modal" data-target=".post9Modal" style="background-image: none!important;">
                            <span class="glyphicon glyphicon-chevron-right" style="color:black!important;"></span>
                        </a>
                    </div>
                </div>
            </div>.
        </div>

        <div class="modal fade post9Modal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true"><!--This class matches the button target-->
            <div class="modal-dialog modal-lg"><!--This will also affect your modal size, look into it-->
                <div class="modal-content">
                    <div id="carousel-controls-post9" class="carousel slide" data-ride="carousel"><!--This calls the controls for the carousel, note the id-->
                        <!-- Wrapper for slides -->
                        <div class="carousel-inner">
                            <div class="item active">
                                <div class="col-lg-12">
                                    <div class="col-lg-2"></div>
                                    <div class="col-lg-8 post9Contents" style="height:auto!important;">

                                    </div>
                                </div>
                                <!-- <img class="img-responsive" src="./img/Houses/TKE.jpg" alt="...">
                                <div class="carousel-caption">
                                </div> -->
                            </div>
                            <!-- <div class="item">
                                <img class="img-responsive" src="./img/Houses/TKEHouse.jpg" alt="...">
                                <div class="carousel-caption">
                                </div>
                            </div> -->
                        </div>
                        <!-- Controls -->
                        <a class="left carousel-control" href="#carousel-controls-post9" role="button" data-slide="prev" data-dismiss="modal" data-toggle="modal" data-target=".post8Modal" style="background-image: none!important;">
                            <span class="glyphicon glyphicon-chevron-left" style="color:black!important;"></span>
                        </a>
                        <a class="right carousel-control" href="#carousel-controls-post9" role="button" data-slide="next" data-dismiss="modal" data-toggle="modal" data-target=".post0Modal" style="background-image: none!important;">
                            <span class="glyphicon glyphicon-chevron-right" style="color:black!important;"></span>
                        </a>
                    </div>
                </div>
            </div>.
        </div>


        <br>
        <br>

        <?php get_footer(); ?>
    

    <!-- script to control getting all of the relevant information from the WordPress site
         on which the "blog" is stored 
         NOTE: look into moving this back in to its own JS file...in fact look into moving
         all of this to a separate file -->
    <script>
    
        // console.log("made it here...");
        $(window).on("load", getWordPress());

        async function getWordPress() {
            var titles = [];
        var contents = [];
        var dates = [];
        var excerpts = [];

            await $.ajax({
                type:'GET',
                dataType:"jsonp",
                url:"http://public-api.wordpress.com/rest/v1.1/sites/ifcgatech.wordpress.com/posts/?http_envelope=true&amp;number=10",

                success: function(result) {
                    console.log(result);
                    var body = result['body'];
                    var found = parseInt(body['found']);
                    posts = body['posts'];
                    console.log(posts);
                    console.log(posts);
                    var i;
                    for (i = 0; i < found; i++) {
                        post = posts[i];
                        //console.log(post);
                        titles.push(post['title']);
                        contents.push(post['content']);
                        excerpts.push(post['excerpt']);
                        var date = new Date(post['date']);
                        var newDate = date.toString('dd-MM-yy');
                        dates.push(newDate);
                    }

                }
            });
            var blogContent = "";
            for (var i = 0; i < titles.length; i++) {
                blogContent += '<div class="post' + i + '">';
                blogContent += "<h3><strong>" + titles[i] + "</strong></h3><br><h5>";
                blogContent += excerpts[i];
                blogContent += "<a onclick=" + "$('.post" + i + "Modal').modal('show');" + ">Show more...</a><br>";
                blogContent += "<br>Posted On: " + dates[i] + "<br><hr><br>";
                blogContent == '</h5>';
                blogContent += "</div>";
                $(".post" + i + "Contents").html("<br><h3 style='text-align:center;'>" + titles[i] + "</h3><hr><h5>" + contents[i] + "<br><br>"
                    + dates[i] + "</h5>");
            }
            // update the contents of the blog div on the home page
            $("#blog").html(blogContent);
        }


    // $(window).on("load", async function() {
    //     // lists to keep track of various information from blog posts
    //     var titles = [];
    //     var contents = [];
    //     var dates = [];
    //     var excerpts = [];

    //     // this is the most important part of the function as it gets the actual content from the WordPress site
    //     // the "await" is absolutely necessary or else you'll end up jumping over this code before the HTTP
    //     // request being made here finishes and you'll end up with an empty list of posts
    //     // NOTE: await tells the JavaScript in runtime to wait for this entire method to finish
    //     await jQuery.get( "http://public-api.wordpress.com/rest/v1.1/sites/seanmbills213.wordpress.com/posts/?http_envelope=true&amp;number=10", function( response ) { 
    //         // response contains site information
    //         var body = response['body'];
    //         var found = parseInt(body['found']);
    //         posts = body['posts'];
    //         console.log(posts);

    //         // iterate over all posts returned and add their title, contents, and dates created to the
    //         // respective lists above
    //         var i;
    //         for (i = 0; i < found; i++) {
    //             post = posts[i];
    //             //console.log(post);
    //             titles.push(post['title']);
    //             contents.push(post['content']);
    //             excerpts.push(post['excerpt']);
    //             var date = new Date(post['date']);
    //             var newDate = date.toString('dd-MM-yy');
    //             dates.push(newDate);
    //         }
    //     });
    //     // set up the content for the blog div itself here
    //     // NOTE: need to come back and make each post into its own div with a popup functionality possible?
    //     var blogContent = "";
    //     for (var i = 0; i < titles.length; i++) {
    //         blogContent += '<div class="post' + i + '">';
    //         blogContent += "<h3><strong>" + titles[i] + "</strong></h3><br><h5>";
    //         blogContent += excerpts[i];
    //         blogContent += "<a onclick=" + "$('.post" + i + "Modal').modal('show');" + ">Show more...</a><br>";
    //         blogContent += "<br>Posted On: " + dates[i] + "<br><hr><br>";
    //         blogContent == '</h5>';
    //         blogContent += "</div>";
    //         $(".post" + i + "Contents").html("<br><h3 style='text-align:center;'>" + titles[i] + "</h3><hr><h5>" + contents[i] + "<br><br>"
    //             + dates[i] + "</h5>");
    //     }
    //     // update the contents of the blog div on the home page
    //     $("#blog").html(blogContent);
    // });
    
    </script>

    <script>
$('.modal').on('shown.bs.modal', function (e) {
  // do something...
  document.body.className += ' ' + 'modal-open';
  // equalHeight($(".col")); 
});
$('.modal').on('hidden.bs.modal', function (e) {
    document.body.className = document.body.className.replace("modal-open","");
});
// </script>

    <script>
            $(".navbar-header").addClass("scrolled-header");
            $(".navbar-inverse").addClass("scrolled");
            $(".navbar-nav>li>a").addClass("scrolled-dropdown");
            $(".navbar-brand").addClass("scrolled-brand");
            
    </script>

</body>

</html>
